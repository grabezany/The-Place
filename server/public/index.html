<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Place</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="login-bg">
  <div class="login-card">
    <div class="brand">
      <div class="logo">⌘</div>
      <div>
        <h1>The Place</h1>
        <p class="muted">Minimal GitHub sandbox editor</p>
      </div>
    </div>

    <p class="muted" style="margin: 0 0 12px;">
      Sign in with GitHub using a one-time code (Device Flow). Your token stays on the server.
    </p>

    <div class="row" style="margin-top:12px;">
      <button id="startBtn" class="btn primary">Start GitHub Login</button>
      <button id="goAppBtn" class="btn" disabled>Open Editor</button>
    </div>

    <div id="step" class="login-step" style="display:none;">
      <div class="step-top">
        <div>
          <div class="step-title">Authorize</div>
          <div class="muted" id="stepText">—</div>
        </div>
        <div class="code-box">
          <div class="muted" style="font-size:12px;">Code</div>
          <div class="code" id="userCode">—</div>
        </div>
      </div>

      <div class="row" style="margin-top:10px; flex-wrap:wrap;">
        <a id="verifyLink" href="#" target="_blank" class="btn">Open GitHub Verify</a>
        <button id="copyBtn" class="btn">Copy Code</button>
        <button id="pollBtn" class="btn primary" disabled>Check Login</button>
      </div>

      <div class="muted" style="margin-top:10px; font-size:12px;" id="pollHint">
        Approve in GitHub, then click “Check Login”.
      </div>
    </div>

    <div class="muted" style="margin-top:14px; font-size:12px;">
      Tip: if the server restarts (Render sleep), you may need to log in again.
    </div>
  </div>

  <script src="login.js"></script>
</body>
</html>
